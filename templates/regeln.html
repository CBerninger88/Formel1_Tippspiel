<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Driver Selection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.2/xlsx.full.min.js"></script>
</head>
<body>
<div class="container">
    <!-- Top-Bar -->
    <div class="top-bar">
        <div class="tipprunde-container">
            Tipprunde:
            <select id="tipprunde-select" class="tipprunde-select" onchange="location.href=this.value;">
                {% if tipprunden %}
                {% for t in tipprunden %}
                <option value="{{ url_for('home.change_tipprunde', tipprunde_id=t.id) }}"
                        data-id="{{ t.id }}"
                        {% if t.id== tipprunde_id %}selected{% endif %}>
                    {{ t.name }}
                </option>
                {% endfor %}
                {% else %}
                <option value="#">None</option>
                {% endif %}
            </select>
        </div>

        <div class="login-status">
            {% if current_user.is_authenticated %}
            Eingeloggt als: {{ current_user.username }}
            <form action="{{ url_for('auth.logout') }}" method="get" style="display:inline;">
                <button type="submit" class="logout-btn">Logout</button>
            </form>
            {% else %}
            <a href="{{ url_for('auth.login') }}">Login</a>
            {% endif %}
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-scroll">
            <ul>
                <li><a href="/">Home</a></li>
                <li class="drop-wrapper">
                    <a href="javascript:void(0);" class="dropbtn" data-dropdown="dropdown-tippabgabe">Tippabgabe</a>
                </li>
                <li><a href="/gesamtergebnis">Tabelle</a></li>
                <li><a href="/wmStand">WM Stand</a></li>
                <li><a href="/regeln">Regeln</a></li>
                <li><a href="/profile">Profil</a></li>
                {% if current_user.is_authenticated and current_user.is_admin %}
                <li class="drop-wrapper">
                    <a href="javascript:void(0);" class="dropbtn" data-dropdown="dropdown-admin">Admin</a>
                </li>
                {% endif %}
            </ul>
        </div>
    </nav>

    <!-- Dropdowns jetzt **auÃŸerhalb der Navbar** -->
    <div class="dropdown-content-wrapper">
        <div class="dropdown-content" id="dropdown-tippabgabe">
            <a href="/tippabgabe">Rennen</a>
            <a href="/sprinttipps">Sprintrennen</a>
        </div>
        {% if current_user.is_authenticated and current_user.is_admin %}
        <div class="dropdown-content" id="dropdown-admin">
            <a href="/admin/rennergebnisse">ğŸ Rennergebnisse</a>
            <a href="/admin/users">ğŸ‘¤ User verwalten</a>
            <a href="/admin/tipprunden">ğŸ“‹ Tipprunden</a>
            <a href="/admin/settings">âš™ï¸ Einstellungen</a>
        </div>
        {% endif %}
    </div>

    <h2>Tipp-Bedingungen</h2>

    <h3>RegelÃ¤nderungen</h3>
    <ul>
        <li>Vor einer Saison: mit einfacher Mehrheit der anwesenden Spieler bei einer F1-Versammlung</li>
        <li>WÃ¤hrend der Saison: 2/3 Mehrheit, abgerundet, aller Spieler einer Saison bei einer F1-Versammlung</li>
    </ul>

    <h3>TeilnahmegebÃ¼hr</h3>
    <ul>
        <li>50,- â‚¬ (zu zahlen bis zum Beginn einer Saison)</li>
        <li>Bei verspÃ¤teter Zahlung betrÃ¤gt diese 50,- â‚¬; versÃ¤umte Rennen kÃ¶nnen nicht nachgetippt werden</li>
    </ul>

    <h3>Gewinnaufteilung</h3>
    <ul>
        <li>50% der Einnahmen fÃ¼r einzelne Siege je Rennwochenende, Gesamtsieg der Sprintrennen und des Super-Tipps</li>
        <li>Sieger Rennwochenende = Spieler mit den meisten Punkten (bei Gleichstand: geteilt)</li>
        <li>Dummi-Sieg â†’ Gewinn flieÃŸt in GetrÃ¤nkekauf fÃ¼r nÃ¤chste Versammlung</li>
        <li>Sprintrennen-Gesamtsieger = nach allen Rennen meiste Punkte (bei Gleichstand: geteilt, Dummi-Regel gilt)
        </li>
        <li>Super-Tipp-Sieger = meiste Punkte (bei Gleichstand: geteilt, Dummi-Regel gilt)</li>
    </ul>

    <h3>Lehrgeld</h3>
    <ul>
        <li>FÃ¼r jeden Dummi, der besser platziert ist als man selbst: 10,- â‚¬ Lehrgeld</li>
        <li>Wird zur Aufstockung der Einnahmen der nÃ¤chsten Saison verwendet</li>
    </ul>

    <h3>Tippzeitraum</h3>
    <ul>
        <li>Bis Donnerstag 23:59 Uhr vor dem Rennen</li>
        <li>Kein Tipp = keine Gewinnberechtigung</li>
        <li>Ausnahme: Dummis (feste Vorgaben)</li>
    </ul>

    <h3>Super-Tipp</h3>
    <ul>
        <li>Eintrag bis vor dem 4. Rennen</li>
        <li>Kein Eintrag = keine Gewinnberechtigung</li>
        <li>Ausnahme: Dummis</li>
    </ul>

    <h3>Sprintrennen-Tipp</h3>
    <ul>
        <li>Analog zum Rennwochenende</li>
    </ul>

    <h3>Dummi-Tipps</h3>
    <ul>
        <li>Fehlende Vorjahresrennen â†’ Dummi tippt letztes Rennen</li>
        <li>1. Rennen Saison â†’ WM-Dummi tippt Stand der Vorsaison</li>
        <li>Super-Tipp â†’ Dummis tippen Ergebnis der Vorsaison</li>
        <li>Schnellste Runde â†’ WM-Dummi tippt Fahrer des letzten Rennens</li>
    </ul>

    <h3>Tipps</h3>
    <ul>
        <li>Nur vollstÃ¤ndige Tipps zÃ¤hlen</li>
        <li>F1-Tabelle weist auf fehlenden Tipp hin</li>
    </ul>

    <h3>Punktevergabe</h3>
    <ul>
        <li><strong>Qualifying:</strong> Treffer Platz 1â€“4: 25, 20, 15, 10 Punkte oder 4 Punkte je richtiger Fahrer</li>
        <li><strong>Rennen:</strong>
            <ul>
                <li>Platz 1â€“10 je nach WM-Tabelle (auÃŸer Rennen 1: je Treffer 10 Punkte)</li>
                <li>1 Platz daneben: 8 Punkte</li>
                <li>Top 10, aber falscher Platz: 5 Punkte</li>
            </ul>
        </li>
        <li><strong>Schnellste Runde:</strong> Nur bei Treffer: 15 Punkte</li>
        <li><strong>Sprintrennen:</strong>
            <ul>
                <li>Treffer: 10 Punkte</li>
                <li>1 Platz daneben: 5 Punkte</li>
                <li>Top 8, aber falscher Platz: 3 Punkte</li>
            </ul>
        </li>
    </ul>

    <h3>WM-Stand Punkte-Tabelle</h3>
    <table>
        <thead>
        <tr>
            <th>Platz</th>
            <th>1.</th>
            <th>2.</th>
            <th>3.</th>
            <th>4.</th>
            <th>5.</th>
            <th>6.</th>
            <th>7.</th>
            <th>8.</th>
            <th>9.</th>
            <th>10.</th>
        </tr>
        </thead>
        <tbody>
        <!-- Beispielhaft fÃ¼r die ersten 10 PlÃ¤tze -->
        <tr>
            <td>1.</td>
            <td>10</td>
            <td>20</td>
            <td>30</td>
            <td>40</td>
            <td>50</td>
            <td>60</td>
            <td>70</td>
            <td>80</td>
            <td>90</td>
            <td>100</td>
        </tr>
        <tr>
            <td>2.</td>
            <td>20</td>
            <td>10</td>
            <td>20</td>
            <td>30</td>
            <td>40</td>
            <td>50</td>
            <td>60</td>
            <td>70</td>
            <td>80</td>
            <td>90</td>
        </tr>
        <tr>
            <td>3.</td>
            <td>30</td>
            <td>20</td>
            <td>10</td>
            <td>20</td>
            <td>30</td>
            <td>40</td>
            <td>50</td>
            <td>60</td>
            <td>70</td>
            <td>80</td>
        </tr>
        <!-- Rest analog -->
        </tbody>
    </table>

    <h3>Sonstiges</h3>
    <ul>
        <li>Mit Bezahlung der StartgebÃ¼hr werden alle Regeln anerkannt</li>
        <li>Rechtsweg ausgeschlossen</li>
        <li>Gewinnberechtigt ist man erst nach Zahlung der GebÃ¼hr</li>
        <li>UnvollstÃ¤ndige Regeln beeintrÃ¤chtigen nicht die GÃ¼ltigkeit des Regelwerks</li>
    </ul>
</div>

<script src="{{ url_for('static', filename='nav_dropdown.js') }}"></script>
</body>
</html>
